!function(t){function e(t){return String(t).replace(/["<>& ']/g,function(t){return"&"+s[t]+";"})}function n(t){return!!/^.*#\{[^}]*\}.*$/.test(t)||(!!/^[ \t]*[&=:|].*$/.test(t)||(!!/^[ \w\t_$]*([^&\^?|\n\w\/'"{}\[\]+\-():;, \t=\.$_]|:\/\/).*$/.test(t)||!!/^(?!\s*(else|do|try|finally|void|typeof\s[\w$_]*)\s*$)[^'":;{}()\[\],\n|=&\/^?]+$/.test(t)))}function r(t){if(!t)return function(){return""};var e=String(t).split(/\n\r?/).map(function(t,e,r){if(/^\s*$/.test(t))return t;if(n(t)){var u=[],i=0;t.replace(/(!?#)\{((?:"(?:[^\\"]|(?:\\.))*"|'(?:[^\\']|(?:\\.))*'|(?:[^{}]*\{[^}]*\})?|[^}]*)*)\}/g,function(e,n,r,s){var f=t.slice(i,s);if(f&&u.push(JSON.stringify(f)),i=s+e.length,r)switch(/^[a-z$][\w+$]+$/i.test(r)&&!/^(true|false|NaN|null|this)$/.test(r)&&(r="typeof "+r+"==='undefined'?'':"+r),n){case"#":u.push("_encode_("+r+")");break;case"!#":u.push("("+r+")")}});var s=t.slice(i,t.length);return s&&u.push(JSON.stringify(s)),e<r.length-1&&u.push('"\\n"'),"_output_.push("+u+");"}return t});return e.unshift("with(this){"),e.push("}"),new Function("_output_","_encode_","helper","jhtmls","require",e.join("\n"))}function u(t,n,u){"function"==typeof t&&(t=String(t).replace(/[^]*\/\*!?\s*|\s*\*\/[^]*/g,""));var s=r(t),f=function(t,n){var r;"function"==typeof require&&(r=require);var u=[];return"undefined"==typeof n&&(n=function(t){s.call(t,u,e,n,i,r)}),s.call(t,u,e,n,i,r),u.join("")};return arguments.length<=1?f:f(n,u)}var i=i||{},s={'"':"#34","'":"#39","<":"lt",">":"gt","&":"amp"," ":"nbsp"};i.isOutput=n,i.build=r,i.render=u,"function"==typeof define?(define.amd||define.cmd)&&define(function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:window[t]=i}("jhtmls");