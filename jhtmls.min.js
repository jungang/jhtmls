!function(t){function n(t){return String(t).replace(/["<>& ']/g,function(t){return"&"+s[t]+";"})}function e(t){return!!/^.*#\{[^}]*\}.*$/.test(t)||(!!/^[ \t]*[&=:|].*$/.test(t)||(!!/^[ \w\t_$]*([^&\^?|\n\w\/'"{}\[\]+\-():;,!` \t=\.$_]|:\/\/).*$/.test(t)||(!!/^\s*[`\-+'"]{3,}/.test(t)||!!/^(?!\s*(else|do|try|finally|void|typeof\s[\w$_]*)\s*$)[^'"`!:;{}()\[\],\n|=&\/^?]+$/.test(t))))}function r(t){if(!t)return function(){return""};var n=String(t).split(/\n\r?/).map(function(t,n,r){if(/^\s*$/.test(t))return t;if(e(t)){var u=[],i=0;t.replace(/(!?#)\{((?:"(?:[^\\"]|(?:\\.))*"|'(?:[^\\']|(?:\\.))*'|(?:[^{}]*\{[^}]*\})?|[^}]*)*)\}/g,function(n,e,r,s){var f=t.slice(i,s);if(f&&u.push(JSON.stringify(f)),i=s+n.length,r)switch(/^[a-z$][\w$]+$/i.test(r)&&!/^(true|false|NaN|null|this)$/.test(r)&&(r="typeof "+r+"==='undefined'?'':"+r),e){case"#":u.push("_encode_("+r+")");break;case"!#":u.push("("+r+")")}});var s=t.slice(i,t.length);return s&&u.push(JSON.stringify(s)),n<r.length-1&&u.push('"\\n"'),"_output_.push("+u+");"}return t});return n.unshift("with(this){"),n.push("}"),new Function("_output_","_encode_","helper",n.join("\n"))}function u(t,e,u){"function"==typeof t&&(t=String(t).replace(/[^]*\/\*!?\s*|\s*\*\/[^]*/g,""));var i=r(t),s=function(t,e){var r;"function"==typeof require&&(r=require);var u=[];return"undefined"==typeof e&&(e=function(t){i.call(t,u,n,e)}),i.call(t,u,n,e),u.join("")};return arguments.length<=1?s:s(e,u)}var i=i||{},s={'"':"#34","'":"#39","<":"lt",">":"gt","&":"amp"," ":"nbsp"};i.isOutput=e,i.build=r,i.render=u,"function"==typeof define?(define.amd||define.cmd)&&define(function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:window[t]=i}("jhtmls");