!function(t,e){if("object"==typeof module&&"object"==typeof module.exports){var n=e(require,exports);void 0!==n&&(module.exports=n)}else"function"==typeof define&&define.amd?define(["require","exports"],e):e(null,t.jhtmls={})}(this,function(t,e){"use strict";function n(t){return!!/^.*#\{[^}]*\}.*$/.test(t)||(!!/^[ \t]*[&=:|].*$/.test(t)||!/^\s*return\b/.test(t)&&(!!/^[ \w\t_$]*([^&\^?|\n\w\/'"{}\[\]+\-():,!` \t=\.$_]|:\/\/).*$/.test(t)||(!!/^\s*[`\-+'"]{3,}/.test(t)||!!/^(?!\s*(else|do|try|finally|void|typeof\s[\w$_]*)\s*$)[^'"`!:{}()\[\],\n|=&\/^?]+$/.test(t))))}function r(t){if(!t)return function(){return""};var e=t.split(/\n\r?/).map(function(t,e,r){if(/^\s*$/.test(t))return t;if(n(t)){var u=[],i=0;t.replace(/(!?#)\{((?:"(?:[^\\"]|(?:\\.))*"|'(?:[^\\']|(?:\\.))*'|(?:[^{}]*\{[^}]*\})?|[^}]*)*)\}/g,function(e,n,r,s){var o=t.slice(i,s);if(o&&u.push(JSON.stringify(o)),i=s+e.length,!r)return"";switch(/^[a-z$][\w$]+$/i.test(r)&&!/^(true|false|NaN|null|this)$/.test(r)&&(r="typeof "+r+"==='undefined'?'':"+r),n){case"#":u.push("_encode_("+r+")");break;case"!#":u.push("("+r+")")}return""});var s=t.slice(i,t.length);return s&&u.push(JSON.stringify(s)),e<r.length-1&&u.push('"\\n"'),"_output_.push("+u+");"}return t});return e.unshift("with(this){"),e.push("}"),new Function("_output_","_encode_","helper",e.join("\n"))}function u(t){return String(t).replace(/["<>& ']/g,function(t){return"&"+s[t]+";"})}function i(t,e,n){"function"==typeof t&&(t=String(t).replace(/[^]*\/\*!?\s*|\s*\*\/[^]*/g,""));var i=r(t),s=function(t,e){var n=[];return"undefined"==typeof e&&(e=function(t){i.call(t,n,u,e)}),i.call(t,n,u,e),n.join("")};return arguments.length<=1?s:s(e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.isOutput=n,e.build=r;var s={'"':"#34","'":"#39","<":"lt",">":"gt","&":"amp"," ":"nbsp"};e.render=i});